{% load static %}

<html xmlns="http://www.w3.org/1999/html">
  <head>
    <meta charset="utf-8">
    <title>Storage Optimizer</title>
<!--    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">-->
	  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
      <link rel="stylesheet" type="text/css" href="{% static 'css/styles.css' %}"/>
<!--	<script src="{% static 'js/bootstrap.min.js' %}"></script>-->
	  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  </head>
  <body>
    <div class="container">
	  <center><h1 style="color:white; margin: 2%">Storage Optimizer</h1></center>
	</div>

    <div class="container">
	  <div class="col-md-12">
    	<div class="panel panel-default">
		  <div class="panel-heading">
			Pdfs
		  </div>
          <div class="panel-body">
			<table class="table table-condensed table-striped">
				<thead>
					<tr>
						<th></th>
						<th>Name</th>
						<th>Size</th>
						<th>Type</th>
						<th>Duplicates</th>
						<th></th>
					</tr>
				</thead>

				<tbody>
				    {% for file_checksum, files in pdfs.items %}
					<tr data-toggle="collapse" data-target="#{{ file_checksum }}" class="accordion-toggle">
					   	<td><button class="btn btn-default btn-xs"><span class="glyphicon glyphicon-eye-open"></span></button></td>
						<td>
							{{ files.0.name }}
							<small class="text-muted d-block">{{ file_checksum }}</small>
					  	</td>
					  	<td class="align-middle">{{ files.0.size }}</td>
					  	<td class="align-middle">{{ files.0.mime_type }}</td>
						<td class="align-middle">{{ files|length }}</td>
					  	<td class="align-middle">

					  	</td>
					</tr>

					<tr>
						<td colspan="12" class="hiddenRow">
							<div class="accordian-body collapse" id="{{ file_checksum }}">
						  		<table class="table table-striped">
									<thead>
										<tr>
											<th>Name</th>
											<th>Size</th>
											<th>Create Date</th>
											<th>Modified Date</th>
											<th></th>
										</tr>
									</thead>
									<tbody>
									    {% for file in files %}
										<tr data-toggle="collapse"  class="accordion-toggle" data-target="#demo10">
											<td>{{ file.name }}</td>
											<td class="align-middle">{{ file.size }}</td>
											<td class="align-middle">{{ file.create_date }}</td>
					  						<td class="align-middle">{{ file.modified_date }}</td>
											<td class="align-middle">
												<form style="margin-bottom: 0;" method="post" action="{% url 'delete' file_id=file.file_id %}" name="{{file.file_id}}">
													{% csrf_token %}
													<button type="button" class="btn btn-danger confirm-delete" data-toggle="modal" data-target="#confirmDeleteModal" file="{{file.file_id}}" title='{{file.name}}'>Delete</button>
												</form>
											</td>
										</tr>
									    {% endfor %}
									</tbody>
								</table>
              				</div>
          				</td>
        			</tr>
				    {% endfor %}
			  </tbody>
			</table>
		  </div>
		</div>
	  </div>
	</div>

	<div class="container">
	  <div class="col-md-12">
    	<div class="panel panel-default">
		  <div class="panel-heading">
			Images
		  </div>
          <div class="panel-body">
			<table class="table table-condensed table-striped">
				<thead>
					<tr>
						<th></th>
						<th>Name</th>
						<th>Size</th>
						<th>Type</th>
						<th>Duplicates</th>
						<th></th>
					</tr>
				</thead>

				<tbody>
				    {% for file_checksum, files in images.items %}
					<tr data-toggle="collapse" data-target="#{{ file_checksum }}" class="accordion-toggle">
					   	<td><button class="btn btn-default btn-xs"><span class="glyphicon glyphicon-eye-open"></span></button></td>
						<td>
							{{ files.0.name }}
							<small class="text-muted d-block">{{ file_checksum }}</small>
					  	</td>
					  	<td class="align-middle">{{ files.0.size }}</td>
					  	<td class="align-middle">{{ files.0.mime_type }}</td>
						<td class="align-middle">{{ files|length }}</td>
					  	<td class="align-middle">

					  	</td>
					</tr>

					<tr>
						<td colspan="12" class="hiddenRow">
							<div class="accordian-body collapse" id="{{ file_checksum }}">
						  		<table class="table table-striped">
									<thead>
										<tr>
											<th>Name</th>
											<th>Size</th>
											<th>Create Date</th>
											<th>Modified Date</th>
											<th></th>
										</tr>
									</thead>
									<tbody>
									    {% for file in files %}
										<tr data-toggle="collapse"  class="accordion-toggle" data-target="#demo10">
											<td>{{ file.name }}</td>
											<td class="align-middle">{{ file.size }}</td>
											<td class="align-middle">{{ file.create_date }}</td>
					  						<td class="align-middle">{{ file.modified_date }}</td>
											<td class="align-middle">
												<form style="margin-bottom: 0;" method="post" action="{% url 'delete' file_id=file.file_id %}" name="{{file.file_id}}">
													{% csrf_token %}
													<button type="button" class="btn btn-danger confirm-delete" data-toggle="modal" data-target="#confirmDeleteModal" file="{{file.file_id}}" title='{{file.name}}'>Delete</button>
												</form>
											</td>
										</tr>
									    {% endfor %}
									</tbody>
								</table>
              				</div>
          				</td>
        			</tr>
				    {% endfor %}
			  </tbody>
			</table>
		  </div>
		</div>
	  </div>
	</div>

	<div class="container">
	  <div class="col-md-12">
    	<div class="panel panel-default">
		  <div class="panel-heading">
			Videos
		  </div>
          <div class="panel-body">
			<table class="table table-condensed table-striped">
				<thead>
					<tr>
						<th></th>
						<th>Name</th>
						<th>Size</th>
						<th>Type</th>
						<th>Duplicates</th>
						<th></th>
					</tr>
				</thead>

				<tbody>
				    {% for file_checksum, files in videos.items %}
					<tr data-toggle="collapse" data-target="#{{ file_checksum }}" class="accordion-toggle">
					   	<td><button class="btn btn-default btn-xs"><span class="glyphicon glyphicon-eye-open"></span></button></td>
						<td>
							{{ files.0.name }}
							<small class="text-muted d-block">{{ file_checksum }}</small>
					  	</td>
					  	<td class="align-middle">{{ files.0.size }}</td>
					  	<td class="align-middle">{{ files.0.mime_type }}</td>
						<td class="align-middle">{{ files|length }}</td>
					  	<td class="align-middle">

					  	</td>
					</tr>

					<tr>
						<td colspan="12" class="hiddenRow">
							<div class="accordian-body collapse" id="{{ file_checksum }}">
						  		<table class="table table-striped">
									<thead>
										<tr>
											<th>Name</th>
											<th>Size</th>
											<th>Create Date</th>
											<th>Modified Date</th>
											<th></th>
										</tr>
									</thead>
									<tbody>
									    {% for file in files %}
										<tr data-toggle="collapse"  class="accordion-toggle" data-target="#demo10">
											<td>{{ file.name }}</td>
											<td class="align-middle">{{ file.size }}</td>
											<td class="align-middle">{{ file.create_date }}</td>
					  						<td class="align-middle">{{ file.modified_date }}</td>
											<td class="align-middle">
												<form style="margin-bottom: 0;" method="post" action="{% url 'delete' file_id=file.file_id %}" name="{{file.file_id}}">
													{% csrf_token %}
													<button type="button" class="btn btn-danger confirm-delete" data-toggle="modal" data-target="#confirmDeleteModal" file="{{file.file_id}}" title='{{file.name}}'>Delete</button>
												</form>
											</td>
										</tr>
									    {% endfor %}
									</tbody>
								</table>
              				</div>
          				</td>
        			</tr>
				    {% endfor %}
			  </tbody>
			</table>
		  </div>
		</div>
	  </div>
	</div>

  </body>
</html>
{% include "confirm_modal.html" %}
